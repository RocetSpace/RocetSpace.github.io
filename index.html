html
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Крестики-нолики</title>
<style>
.board {
  display: grid;
  grid-template-columns: repeat(3, 100px);
  grid-template-rows: repeat(3, 100px);
  gap: 5px;
}

.cell {
  display: flex;
  justify-content: center;
  align-items: center;
  border: 1px solid #000;
  font-size: 24px;
  cursor: pointer;
}

#score {
  font-size: 18px;
}
</style>
</head>
<body>
<div class="board"></div>
<div id="score"></div>

<script>
const board = document.querySelector('.board');
const scoreDiv = document.getElementById('score');
const cells = Array.from({ length: 9 });

let currentPlayer = 'X';
let score = { X: 0, O: 0 };

cells.forEach((cell, index) => {
  const div = document.createElement('div');
  div.className = 'cell';
  div.dataset.index = index;
  div.addEventListener('click', handleCellClick);
  board.appendChild(div);
  cells[index] = div;
});

function handleCellClick(e) {
  const { index } = e.target.dataset;
  if (cells[index].textContent || checkWinner()) return;
  cells[index].textContent = currentPlayer;

  if (checkWinner()) {
    score[currentPlayer]++;
    scoreDiv.textContent = X: ${score.X} - O: ${score.O};
    return;
  }

  currentPlayer = currentPlayer === 'X' ? 'O' : 'X';
  if (currentPlayer === 'O') {
    setTimeout(() => {
      const emptyCells = cells.filter(cell => !cell.textContent);
      const randomCell = emptyCells[Math.floor(Math.random() * emptyCells.length)];
      randomCell.textContent = currentPlayer;
      if (checkWinner()) {
        score[currentPlayer]++;
        scoreDiv.textContent = X: ${score.X} - O: ${score.O};
      }
      currentPlayer = currentPlayer === 'X' ? 'O' : 'X';
    }, 500);
  }
}

function checkWinner() {
  const lines = [
    [0, 1, 2],
    [3, 4, 5],
    [6, 7, 8],
    [0, 3, 6],
    [1, 4, 7],
    [2, 5, 8],
    [0, 4, 8],
    [2, 4, 6]
  ];

  for (const line of lines) {
    const [a, b, c] = line;
    if (cells[a].textContent && cells[a].textContent === cells[b].textContent && cells[a].textContent === cells[c].textContent) {
      cells[a].style.background = 'yellow';
      cells[b].style.background = 'yellow';
      cells[c].style.background = 'yellow';
      return true;
    }
  }

  if (cells.every(cell => cell.textContent)) {
    score.X += 0.5;
    score.O += 0.5;
    scoreDiv.textContent = X: ${score.X} - O: ${score.O};
    return true;
  }

  return false;
}
</script>
</body>
</html>
